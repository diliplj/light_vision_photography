{% extends 'loginbase.html' %}
{% load ttags %}
{% block content %}
<div class="container h-100 d-flex justify-content-center">
    <div class="col-12 col-md-5 align-self-center text-start p-5 border">
        <p class="fs-4 fw-bold text-uppercase">Password reset conform</p>
        <p>Enter your new password to your account</p>
        {% if form.errors %}
        <p class="text-danger">Your username and password didn't match. Please try again.</p>
        {% endif %}
        <form method="post" action="{% url 'login' %}" novalidate>
            {% csrf_token %}
            
            {% if validlink %}
                {% for field in form %}
                <div class="form-floating mb-3">
                    {{field|addcss:"form-control"}}
                    {{field.label_tag}}
                    <div class="invalid-feedback">
                        <span class="help small">{{field.errors}}</span>
                    </div>
                </div>
                <div class="d-grid gap-2">
                    <input class="btn btn-lg btn-primary text-uppercase" type="submit" value="Change password">
                    <input type="hidden" name="next" value="{{ next }}">
                </div>
            <!-- {{ form.as_p }}
                <button type="submit">Change password</button> -->
                
            {% else %}
                <p>
                The password reset link was invalid, possibly because it has already been used.
                Please request a new password reset.
                </p>
            {% endif %}            
        </form>
    </div>

</div>
{% endblock %}
{% block scripts %}
<script>
  // document.getElementById('id_password').setAttribute("oncopy","return false")
  // document.getElementById('id_password').setAttribute("onpaste","return false")
</script>
{% endblock %}